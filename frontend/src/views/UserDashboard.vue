<template>
  <div class="page-container">
    <div class="page-content">
      <!-- í—¤ë” -->
      <header class="common-header">
        <h1>ëŒ€ì‹œë³´ë“œ</h1>
        <div class="header-actions">
          <button @click="showWidgetSettings = true" class="btn-widget-settings" title="ìœ„ì ¯ ì„¤ì •">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="3"/>
              <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"/>
            </svg>
          </button>
          <div class="header-user">
            <div class="user-avatar">{{ username.charAt(0) }}</div>
            <span>{{ username }}</span>
          </div>
          <button @click="logout" class="btn btn-logout">ë¡œê·¸ì•„ì›ƒ</button>
        </div>
      </header>

      <!-- í™˜ì˜ ë©”ì‹œì§€ -->
      <section class="welcome-card">
        <div class="welcome-content">
          <h2>í™˜ì˜í•©ë‹ˆë‹¤, <span class="highlight">{{ username }}</span>ë‹˜!</h2>
          <p>í”Œë«í¼ì— ì ‘ì†í•˜ì…¨ìŠµë‹ˆë‹¤. ì•„ë˜ ë©”ë‰´ì—ì„œ ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ì„ íƒí•˜ì„¸ìš”.</p>
        </div>
        <div class="welcome-decoration">
          <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
            <path fill="rgba(102, 126, 234, 0.1)" d="M45.7,-51.9C59.1,-41.5,69.7,-26.2,71.8,-9.8C73.9,6.6,67.5,24.2,56.4,37.2C45.3,50.3,29.5,58.8,12.4,62.8C-4.7,66.8,-23.1,66.3,-38.4,58.5C-53.7,50.7,-65.9,35.6,-70.3,18.5C-74.7,1.4,-71.3,-17.7,-61.5,-32.1C-51.7,-46.5,-35.5,-56.2,-19.1,-65.1C-2.7,-74,14,-82.1,28.6,-77.3C43.2,-72.5,55.7,-54.8,45.7,-51.9Z" transform="translate(100 100)" />
          </svg>
        </div>
      </section>

      <!-- ì£¼ì‹ ì„¹ì…˜ -->
      <section class="menu-section">
        <div class="section-header">
          <span class="section-icon">ğŸ“ˆ</span>
          <h2>ì£¼ì‹</h2>
        </div>
        <div class="menu-grid">
          <article class="menu-card sector" @click="goToSector">
            <div class="card-icon sector-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <polyline points="22,7 13.5,15.5 8.5,10.5 2,17"/>
                <polyline points="16,7 22,7 22,13"/>
              </svg>
            </div>
            <h3>ì„¹í„°ë³„ ê±°ë˜ëŒ€ê¸ˆ</h3>
            <p>ë°˜ë„ì²´, 2ì°¨ì „ì§€, ë¡œë´‡ ë“± ì„¹í„°ë³„ ê±°ë˜ëŒ€ê¸ˆ</p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>

          <article v-if="widgetSettings.investorTrades" class="menu-card investor" @click="goToInvestorTrade">
            <div class="card-icon investor-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
              </svg>
            </div>
            <h3>íˆ¬ìì ë§¤ë§¤ ë™í–¥</h3>
            <p>ì™¸êµ­ì¸Â·ê¸°ê´€ ë§¤ë§¤ ìƒìœ„ ì¢…ëª©</p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>

          <article v-if="widgetSettings.investorTrades" class="menu-card consecutive" @click="goToConsecutiveBuy">
            <div class="card-icon consecutive-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M13 17l5-5-5-5"/>
                <path d="M6 17l5-5-5-5"/>
              </svg>
            </div>
            <h3>ì—°ì† ë§¤ìˆ˜ ì¢…ëª©</h3>
            <p>ì™¸êµ­ì¸Â·ê¸°ê´€ì´ ì—°ì† ìˆœë§¤ìˆ˜ ì¤‘ì¸ ì¢…ëª©</p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>

          <article v-if="widgetSettings.investorTrades" class="menu-card surge" @click="goToInvestorSurge">
            <div class="card-icon surge-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
              </svg>
            </div>
            <h3>ìˆ˜ê¸‰ ê¸‰ì¦</h3>
            <p>ì¥ì¤‘ ì™¸êµ­ì¸Â·ê¸°ê´€ ìˆœë§¤ìˆ˜ ê¸‰ì¦ ì¢…ëª©</p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>

          <article v-if="widgetSettings.earningsScreener" class="menu-card screener" @click="goToEarningsScreener">
            <div class="card-icon screener-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M3 3v18h18"/>
                <path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"/>
                <circle cx="18.7" cy="8" r="2"/>
              </svg>
            </div>
            <h3>ì‹¤ì  ìŠ¤í¬ë¦¬ë„ˆ</h3>
            <p>ë§ˆë²•ì˜ ê³µì‹, PEG, í„´ì–´ë¼ìš´ë“œ ì¢…ëª© ë°œêµ´</p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>

          <article v-if="widgetSettings.investorTrades" class="menu-card short-squeeze" @click="goToShortSqueeze">
            <div class="card-icon short-squeeze-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
              </svg>
            </div>
            <h3>ê³µë§¤ë„ ë¶„ì„</h3>
            <p>ìˆìŠ¤í€´ì¦ˆ í›„ë³´, ëŒ€ì°¨ì”ê³ /ê³µë§¤ë„ ìƒìœ„ ì¢…ëª©</p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>

          <article v-if="widgetSettings.investorTrades" class="menu-card technical" @click="goToTechnicalAnalysis">
            <div class="card-icon technical-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M3 3v18h18"/>
                <path d="M18 9l-5 5-4-4-3 3"/>
                <circle cx="18" cy="9" r="2"/>
                <circle cx="13" cy="14" r="2"/>
                <circle cx="9" cy="10" r="2"/>
              </svg>
            </div>
            <h3>ê¸°ìˆ ì  ë¶„ì„</h3>
            <p>ì´ë™í‰ê· ì„ , RSI, ê³¨ë“ í¬ë¡œìŠ¤ ë“± ë§¤ë§¤ ì‹œê·¸ë„</p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>

          <article class="menu-card market-timing" @click="goToMarketTiming">
            <div class="card-icon market-timing-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="12" cy="12" r="10"/>
                <polyline points="12 6 12 12 16 14"/>
                <path d="M4.93 4.93l2.83 2.83"/>
                <path d="M16.24 16.24l2.83 2.83"/>
              </svg>
            </div>
            <h3>ì‹œì¥ ì§€í‘œ</h3>
            <p>ADR ê¸°ë°˜ ì‹œì¥ ê³¼ì—´/ì¹¨ì²´ ë¶„ì„</p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>

          <article class="menu-card reddit" @click="goToReddit">
            <div class="card-icon reddit-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="12" cy="12" r="10"/>
                <path d="M16.5 12a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"/>
                <path d="M10.5 12a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"/>
                <path d="M15 15.5c-1 1-2 1.5-3 1.5s-2-.5-3-1.5"/>
                <path d="M17 8l2-2M19 6a1 1 0 100-2 1 1 0 000 2z"/>
                <path d="M17.5 9c1.5 0 2.5 1 2.5 2"/>
              </svg>
            </div>
            <h3>Reddit ì£¼ì‹ ì •ë³´</h3>
            <p>WSB, stocks ë“± í•´ì™¸ ì»¤ë®¤ë‹ˆí‹° íŠ¸ë Œë“œ</p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>
        </div>
      </section>

      <!-- ì‹œì„¸ ì„¹ì…˜ -->
      <section class="menu-section">
        <div class="section-header">
          <span class="section-icon">ğŸ’°</span>
          <h2>ì‹œì„¸</h2>
        </div>
        <div class="menu-grid">
          <article v-if="widgetSettings.goldPrice" class="menu-card gold" @click="goToGold">
            <div class="card-icon gold-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="12" cy="12" r="10"/>
                <path d="M12 6v12"/>
                <path d="M15 9.5c0-1.5-1.5-2.5-3-2.5s-3 1-3 2.5c0 2 6 1 6 4 0 1.5-1.5 2.5-3 2.5s-3-1-3-2.5"/>
              </svg>
            </div>
            <h3>ê¸ˆ ì‹œì„¸</h3>
            <p v-if="goldPrice">{{ formatCurrency(goldPrice.price) }}/g <span :class="goldPrice.changeRate >= 0 ? 'text-positive' : 'text-negative'">({{ goldPrice.changeRate >= 0 ? '+' : '' }}{{ goldPrice.changeRate?.toFixed(2) || 0 }}%)</span></p>
            <p v-else>ê¸ˆ ì‹œì„¸ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>

          <article v-if="widgetSettings.silverPrice" class="menu-card silver" @click="goToSilver">
            <div class="card-icon silver-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="12" cy="12" r="10"/>
                <path d="M12 6v12"/>
                <path d="M15 9.5c0-1.5-1.5-2.5-3-2.5s-3 1-3 2.5c0 2 6 1 6 4 0 1.5-1.5 2.5-3 2.5s-3-1-3-2.5"/>
              </svg>
            </div>
            <h3>ì€ ì‹œì„¸</h3>
            <p v-if="silverPrice">{{ formatCurrency(silverPrice.price) }}/g <span :class="silverPrice.changeRate >= 0 ? 'text-positive' : 'text-negative'">({{ silverPrice.changeRate >= 0 ? '+' : '' }}{{ silverPrice.changeRate?.toFixed(2) || 0 }}%)</span></p>
            <p v-else>ì€ ì‹œì„¸ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>
        </div>
      </section>

      <!-- ê´€ë¦¬ ì„¹ì…˜ -->
      <section class="menu-section">
        <div class="section-header">
          <span class="section-icon">âš™ï¸</span>
          <h2>ê´€ë¦¬</h2>
        </div>
        <div class="menu-grid">
          <article class="menu-card" @click="goToMyContent">
            <div class="card-icon content">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"/>
                <path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"/>
              </svg>
            </div>
            <h3>ë‚´ ì½˜í…ì¸ </h3>
            <p>ì‘ì„±í•œ ê¸€ê³¼ íŒŒì¼ì„ í™•ì¸í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤.</p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>

          <article class="menu-card" @click="goToSettings">
            <div class="card-icon settings">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="12" cy="12" r="3"/>
                <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"/>
              </svg>
            </div>
            <h3>ë‚´ ì„¤ì •</h3>
            <p>ê°œì¸ ì •ë³´ ë° ë¹„ë°€ë²ˆí˜¸ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>

          <article class="menu-card" @click="goToFiles">
            <div class="card-icon files">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/>
              </svg>
            </div>
            <h3>ë‚´ íŒŒì¼</h3>
            <p>ê°œì¸ íŒŒì¼ê³¼ í´ë”ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>

          <article class="menu-card car" @click="goToCar">
            <div class="card-icon car-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9L18 10l-2.7-3.6c-.4-.5-1-.9-1.6-.9H10c-.7 0-1.3.4-1.6.9L5.5 10l-2 1.1C2.7 11.3 2 12.1 2 13v3c0 .6.4 1 1 1h2"/>
                <circle cx="7" cy="17" r="2"/>
                <circle cx="17" cy="17" r="2"/>
              </svg>
            </div>
            <h3>ìë™ì°¨ ê´€ë¦¬</h3>
            <p>ì •ë¹„ ê¸°ë¡ê³¼ ì£¼í–‰ê±°ë¦¬ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>

          <article v-if="widgetSettings.assetSummary" class="menu-card asset" @click="goToAsset">
            <div class="card-icon asset-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <line x1="12" y1="1" x2="12" y2="23"/>
                <path d="M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/>
              </svg>
            </div>
            <h3>ìì‚° ê´€ë¦¬</h3>
            <p>ì´ ìì‚° {{ formatCurrency(assetSummary.totalAssets) }} <span :class="assetSummary.totalProfit >= 0 ? 'text-positive' : 'text-negative'">({{ assetSummary.totalProfit >= 0 ? '+' : '' }}{{ assetSummary.profitRate?.toFixed(2) || 0 }}%)</span></p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>

          <article v-if="widgetSettings.financeSummary" class="menu-card finance" @click="goToFinance">
            <div class="card-icon finance-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                <line x1="16" y1="2" x2="16" y2="6"/>
                <line x1="8" y1="2" x2="8" y2="6"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
              </svg>
            </div>
            <h3>ê°€ê³„ë¶€</h3>
            <p>ì´ë²ˆ ë‹¬ <span :class="financeSummary.balance >= 0 ? 'text-positive' : 'text-negative'">{{ formatCurrency(financeSummary.balance) }}</span></p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>
        </div>
      </section>

      <!-- ê¸°íƒ€ ì„¹ì…˜ -->
      <section class="menu-section">
        <div class="section-header">
          <span class="section-icon">ğŸ“‹</span>
          <h2>ê¸°íƒ€</h2>
        </div>
        <div class="menu-grid">
          <article class="menu-card" @click="goToBoard">
            <div class="card-icon board">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
                <polyline points="14,2 14,8 20,8"/>
                <line x1="16" y1="13" x2="8" y2="13"/>
                <line x1="16" y1="17" x2="8" y2="17"/>
                <polyline points="10,9 9,9 8,9"/>
              </svg>
            </div>
            <h3>ê²Œì‹œíŒ</h3>
            <p>ììœ ë¡­ê²Œ ê¸€ì„ ì‘ì„±í•˜ê³  íŒŒì¼ì„ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>

          <article v-if="widgetSettings.news" class="menu-card news" @click="goToNews">
            <div class="card-icon news-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>
                <path d="M7 7h10M7 11h10M7 15h7"/>
              </svg>
            </div>
            <h3>ê²½ì œ ë‰´ìŠ¤ <span class="menu-ai-badge">AI</span></h3>
            <p v-if="newsList.length > 0">{{ newsList.length }}ê°œì˜ ë‰´ìŠ¤ê°€ ìˆìŠµë‹ˆë‹¤.</p>
            <p v-else>AIê°€ ìš”ì•½í•œ ê²½ì œ ë‰´ìŠ¤ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</p>
            <span class="card-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
              </svg>
            </span>
          </article>
        </div>
      </section>

      <!-- AI ìƒë‹´ ë°°ë„ˆ -->
      <section class="ai-banner" @click="openAiChat">
        <div class="ai-banner-content">
          <div class="ai-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 011 1v3a1 1 0 01-1 1h-1v1a2 2 0 01-2 2H5a2 2 0 01-2-2v-1H2a1 1 0 01-1-1v-3a1 1 0 011-1h1a7 7 0 017-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 012-2z"/>
              <circle cx="8.5" cy="14.5" r="1.5"/>
              <circle cx="15.5" cy="14.5" r="1.5"/>
              <path d="M9 18h6"/>
            </svg>
          </div>
          <div class="ai-text">
            <h3>AI ì¬ë¬´ ìƒë‹´ì‚¬</h3>
            <p>ìì‚° ê´€ë¦¬, ê°€ê³„ë¶€, íˆ¬ìì— ëŒ€í•œ ë§ì¶¤í˜• ìƒë‹´ì„ ë°›ì•„ë³´ì„¸ìš”</p>
          </div>
          <div class="ai-arrow">
            <span>ìƒë‹´ ì‹œì‘</span>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9,6 15,12 9,18"/>
            </svg>
          </div>
        </div>
        <div class="ai-decoration"></div>
      </section>

      <!-- ìœ„ì ¯ ì„¤ì • ëª¨ë‹¬ -->
      <WidgetSettingsModal
        :visible="showWidgetSettings"
        :settings="widgetSettings"
        @close="showWidgetSettings = false"
        @update:settings="updateWidgetSettings"
      />
    </div>
  </div>
</template>

<script>
import { newsAPI, financeAPI, goldAPI, silverAPI, assetAPI } from '../utils/api';
import WidgetSettingsModal from '../components/WidgetSettingsModal.vue';

export default {
  name: 'UserDashboard',
  components: {
    WidgetSettingsModal
  },
  data() {
    return {
      username: '',
      newsList: [],
      fetchingNews: false,
      showWidgetSettings: false,
      widgetSettings: {
        goldPrice: true,
        silverPrice: true,
        assetSummary: true,
        news: true,
        financeSummary: true,
        investorTrades: true,
        earningsScreener: true
      },
      financeSummary: {
        totalIncome: 0,
        totalExpense: 0,
        balance: 0
      },
      goldPrice: null,
      silverPrice: null,
      assetSummary: {
        totalAssets: 0,
        totalProfit: 0,
        profitRate: 0
      },
      loadingPrices: false
    }
  },
  mounted() {
    this.username = localStorage.getItem('username') || 'User'
    this.loadWidgetSettings()
    this.loadNews()
    this.loadFinanceSummary()
    this.loadPrices()
    this.loadAssetSummary()
  },
  methods: {
    loadWidgetSettings() {
      const saved = localStorage.getItem('dashboardWidgets')
      if (saved) {
        this.widgetSettings = { ...this.widgetSettings, ...JSON.parse(saved) }
      }
    },
    updateWidgetSettings(settings) {
      this.widgetSettings = { ...this.widgetSettings, ...settings }
      // ìœ„ì ¯ ë°ì´í„° ë‹¤ì‹œ ë¡œë“œ
      if (settings.goldPrice || settings.silverPrice) {
        this.loadPrices()
      }
      if (settings.assetSummary) {
        this.loadAssetSummary()
      }
      if (settings.financeSummary) {
        this.loadFinanceSummary()
      }
      if (settings.news) {
        this.loadNews()
      }
    },
    async loadFinanceSummary() {
      try {
        const now = new Date()
        const response = await financeAPI.getMonthlyTransactions(now.getFullYear(), now.getMonth() + 1)
        if (response.data.success) {
          const data = response.data.data
          this.financeSummary = {
            totalIncome: data.totalIncome || 0,
            totalExpense: data.totalExpense || 0,
            balance: data.balance || 0
          }
        }
      } catch (error) {
        console.error('ê°€ê³„ë¶€ ìš”ì•½ ë¡œë“œ ì‹¤íŒ¨:', error)
      }
    },
    async loadPrices() {
      this.loadingPrices = true
      try {
        const [goldRes, silverRes] = await Promise.all([
          goldAPI.getPrice(),
          silverAPI.getPrice()
        ])
        if (goldRes.data.success) {
          this.goldPrice = goldRes.data.data
        }
        if (silverRes.data.success) {
          this.silverPrice = silverRes.data.data
        }
      } catch (error) {
        console.error('ì‹œì„¸ ë¡œë“œ ì‹¤íŒ¨:', error)
      } finally {
        this.loadingPrices = false
      }
    },
    async loadAssetSummary() {
      try {
        const response = await assetAPI.getAssetSummary()
        if (response.data.success) {
          const data = response.data.data
          this.assetSummary = {
            totalAssets: data.totalCurrentValue || 0,
            totalProfit: data.totalProfit || 0,
            profitRate: data.profitRate || 0
          }
        }
      } catch (error) {
        console.error('ìì‚° ìš”ì•½ ë¡œë“œ ì‹¤íŒ¨:', error)
      }
    },
    formatCurrency(value) {
      if (!value) return '0ì›'
      return new Intl.NumberFormat('ko-KR').format(value) + 'ì›'
    },
    async loadNews() {
      try {
        // ì˜¤ëŠ˜ ë‰´ìŠ¤ê°€ ì—†ìœ¼ë©´ ìµœê·¼ ë‰´ìŠ¤ ì¡°íšŒ
        let response = await newsAPI.getTodayNews()
        if (response.data.data && response.data.data.length > 0) {
          this.newsList = response.data.data.slice(0, 5)
        } else {
          response = await newsAPI.getRecentNews()
          this.newsList = response.data.data ? response.data.data.slice(0, 5) : []
        }
      } catch (error) {
        console.error('ë‰´ìŠ¤ ë¡œë“œ ì‹¤íŒ¨:', error)
        this.newsList = []
      }
    },
    openNewsUrl(url) {
      if (url) {
        window.open(url, '_blank')
      }
    },
    formatNewsTime(dateStr) {
      if (!dateStr) return ''
      const date = new Date(dateStr)
      const now = new Date()
      const diffHours = Math.floor((now - date) / (1000 * 60 * 60))
      if (diffHours < 1) return 'ë°©ê¸ˆ ì „'
      if (diffHours < 24) return `${diffHours}ì‹œê°„ ì „`
      return date.toLocaleDateString('ko-KR')
    },
    async fetchNews() {
      this.fetchingNews = true
      try {
        await newsAPI.fetchNews()
        await this.loadNews()
      } catch (error) {
        console.error('ë‰´ìŠ¤ ìˆ˜ì§‘ ì‹¤íŒ¨:', error)
        alert('ë‰´ìŠ¤ ìˆ˜ì§‘ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. AI ì„œë²„(Ollama)ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.')
      } finally {
        this.fetchingNews = false
      }
    },
    goToBoard() {
      this.$router.push('/board')
    },
    goToMyContent() {
      this.$router.push('/my-content')
    },
    goToAsset() {
      this.$router.push('/asset')
    },
    goToSettings() {
      this.$router.push('/settings')
    },
    goToGold() {
      this.$router.push('/gold')
    },
    goToSilver() {
      this.$router.push('/silver')
    },
    goToFiles() {
      this.$router.push('/files')
    },
    goToFinance() {
      this.$router.push('/finance')
    },
    goToCar() {
      this.$router.push('/car')
    },
    goToSector() {
      this.$router.push('/sector')
    },
    goToReddit() {
      this.$router.push('/reddit')
    },
    goToInvestorTrade() {
      this.$router.push('/investor-trades')
    },
    goToConsecutiveBuy() {
      this.$router.push('/consecutive-buy')
    },
    goToInvestorSurge() {
      this.$router.push('/investor-surge')
    },
    goToEarningsScreener() {
      this.$router.push('/earnings-screener')
    },
    goToShortSqueeze() {
      this.$router.push('/short-squeeze')
    },
    goToTechnicalAnalysis() {
      this.$router.push('/technical-analysis')
    },
    goToMarketTiming() {
      this.$router.push('/market-timing')
    },
    goToNews() {
      this.$router.push('/news')
    },
    openAiChat() {
      // ì±—ë´‡ ì—´ê¸° ì´ë²¤íŠ¸ ë°œìƒ
      window.dispatchEvent(new CustomEvent('open-chatbot'))
    },
    logout() {
      localStorage.removeItem('jwt_token')
      localStorage.removeItem('username')
      localStorage.removeItem('role')
      this.$router.push('/login')
    }
  }
}
</script>

<style scoped>
/* í™˜ì˜ ì¹´ë“œ */
.welcome-card {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  border-radius: 20px;
  padding: var(--card-padding);
  margin-bottom: var(--section-gap);
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
  display: flex;
  justify-content: space-between;
  align-items: center;
  overflow: hidden;
  position: relative;
}

.welcome-content {
  position: relative;
  z-index: 1;
}

.welcome-content h2 {
  font-size: 28px;
  color: var(--text-primary);
  margin: 0 0 12px 0;
}

.welcome-content .highlight {
  background: var(--primary-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.welcome-content p {
  font-size: 16px;
  color: var(--text-muted);
  margin: 0;
}

.welcome-decoration {
  position: absolute;
  right: -50px;
  top: -50px;
  width: 300px;
  height: 300px;
  opacity: 0.5;
}

/* ì‚¬ìš©ì ì•„ë°”íƒ€ */
.user-avatar {
  width: 36px;
  height: 36px;
  background: var(--primary-gradient);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: 700;
  font-size: 16px;
}

/* ë©”ë‰´ ì„¹ì…˜ */
.menu-section {
  margin-bottom: 2rem;
}

.section-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 1rem;
  padding-bottom: 0.75rem;
  border-bottom: 2px solid rgba(102, 126, 234, 0.2);
}

.section-icon {
  font-size: 1.5rem;
}

.section-header h2 {
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0;
  background: var(--primary-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ë©”ë‰´ ê·¸ë¦¬ë“œ */
.menu-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
}

.menu-card {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  border-radius: 20px;
  padding: var(--card-padding);
  cursor: pointer;
  transition: all 0.3s ease;
  border: 2px solid transparent;
  position: relative;
  overflow: hidden;
}

.menu-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
  border-color: var(--primary-start);
}

.menu-card:hover .card-arrow {
  opacity: 1;
  transform: translateX(0);
}

.card-icon {
  width: 60px;
  height: 60px;
  border-radius: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 20px;
  transition: transform 0.3s ease;
}

.menu-card:hover .card-icon {
  transform: scale(1.1);
}

.card-icon.board {
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(118, 75, 162, 0.15) 100%);
  color: var(--primary-start);
}

.card-icon.content {
  background: linear-gradient(135deg, rgba(79, 172, 254, 0.15) 0%, rgba(0, 242, 254, 0.15) 100%);
  color: #4facfe;
}

.card-icon.asset {
  background: linear-gradient(135deg, rgba(247, 183, 51, 0.15) 0%, rgba(252, 74, 26, 0.15) 100%);
  color: #f7b733;
}

.card-icon.settings {
  background: linear-gradient(135deg, rgba(108, 117, 125, 0.15) 0%, rgba(73, 80, 87, 0.15) 100%);
  color: #6c757d;
}

.card-icon.files {
  background: linear-gradient(135deg, rgba(93, 173, 226, 0.15) 0%, rgba(52, 152, 219, 0.15) 100%);
  color: #3498db;
}

.card-icon.car-icon {
  background: linear-gradient(135deg, rgba(52, 73, 94, 0.15) 0%, rgba(44, 62, 80, 0.15) 100%);
  color: #34495e;
}

.card-icon.sector-icon {
  background: linear-gradient(135deg, rgba(79, 70, 229, 0.15) 0%, rgba(139, 92, 246, 0.15) 100%);
  color: #4F46E5;
}

.menu-card.car {
  background: linear-gradient(135deg, rgba(245, 247, 250, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 2px solid rgba(52, 73, 94, 0.2);
}

.menu-card.car:hover {
  border-color: #34495e;
  box-shadow: 0 20px 40px rgba(52, 73, 94, 0.15);
}

.menu-card.car h3 {
  color: #2c3e50;
}

.menu-card.sector {
  background: linear-gradient(135deg, rgba(238, 242, 255, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 2px solid rgba(79, 70, 229, 0.2);
}

.menu-card.sector:hover {
  border-color: #4F46E5;
  box-shadow: 0 20px 40px rgba(79, 70, 229, 0.15);
}

.menu-card.sector h3 {
  color: #4F46E5;
}

.card-icon.reddit-icon {
  background: linear-gradient(135deg, rgba(255, 69, 0, 0.15) 0%, rgba(255, 87, 34, 0.15) 100%);
  color: #FF4500;
}

.menu-card.reddit {
  background: linear-gradient(135deg, rgba(255, 247, 237, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 2px solid rgba(255, 69, 0, 0.2);
}

.menu-card.reddit:hover {
  border-color: #FF4500;
  box-shadow: 0 20px 40px rgba(255, 69, 0, 0.15);
}

.menu-card.reddit h3 {
  color: #EA580C;
}

/* ê¸ˆ ì‹œì„¸ ì¹´ë“œ */
.card-icon.gold-icon {
  background: linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(218, 165, 32, 0.2) 100%);
  color: #daa520;
}

.menu-card.gold {
  background: linear-gradient(135deg, rgba(255, 250, 230, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 2px solid rgba(255, 215, 0, 0.3);
}

.menu-card.gold:hover {
  border-color: #ffd700;
  box-shadow: 0 20px 40px rgba(255, 215, 0, 0.15);
}

.menu-card.gold h3 {
  color: #b8860b;
}

/* ì€ ì‹œì„¸ ì¹´ë“œ */
.card-icon.silver-icon {
  background: linear-gradient(135deg, rgba(192, 192, 192, 0.2) 0%, rgba(169, 169, 169, 0.2) 100%);
  color: #708090;
}

.menu-card.silver {
  background: linear-gradient(135deg, rgba(248, 250, 252, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 2px solid rgba(192, 192, 192, 0.3);
}

.menu-card.silver:hover {
  border-color: #c0c0c0;
  box-shadow: 0 20px 40px rgba(128, 128, 128, 0.15);
}

.menu-card.silver h3 {
  color: #5a6a7a;
}

/* ìì‚° ê´€ë¦¬ ì¹´ë“œ */
.card-icon.asset-icon {
  background: linear-gradient(135deg, rgba(247, 183, 51, 0.15) 0%, rgba(252, 74, 26, 0.15) 100%);
  color: #f7b733;
}

.menu-card.asset {
  background: linear-gradient(135deg, rgba(255, 250, 240, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 2px solid rgba(247, 183, 51, 0.3);
}

.menu-card.asset:hover {
  border-color: #f7b733;
  box-shadow: 0 20px 40px rgba(247, 183, 51, 0.15);
}

.menu-card.asset h3 {
  color: #d97706;
}

/* ê°€ê³„ë¶€ ì¹´ë“œ */
.card-icon.finance-icon {
  background: linear-gradient(135deg, rgba(46, 204, 113, 0.15) 0%, rgba(39, 174, 96, 0.15) 100%);
  color: #2ecc71;
}

.card-icon.stock-icon {
  background: linear-gradient(135deg, rgba(231, 76, 60, 0.15) 0%, rgba(192, 57, 43, 0.15) 100%);
  color: #e74c3c;
}

.menu-card.stock {
  background: linear-gradient(135deg, rgba(255, 245, 245, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 2px solid rgba(231, 76, 60, 0.3);
}

.menu-card.stock:hover {
  border-color: #e74c3c;
  box-shadow: 0 20px 40px rgba(231, 76, 60, 0.2);
}

.menu-card.stock h3 {
  color: #c0392b;
}

.menu-card.finance {
  background: linear-gradient(135deg, rgba(240, 253, 244, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 2px solid rgba(46, 204, 113, 0.3);
}

.menu-card.finance:hover {
  border-color: #2ecc71;
  box-shadow: 0 20px 40px rgba(46, 204, 113, 0.15);
}

.menu-card.finance h3 {
  color: #16a34a;
}

/* ë‰´ìŠ¤ ì¹´ë“œ */
.card-icon.news-icon {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(99, 102, 241, 0.15) 100%);
  color: #3b82f6;
}

.menu-card.news {
  background: linear-gradient(135deg, rgba(239, 246, 255, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 2px solid rgba(59, 130, 246, 0.3);
}

.menu-card.news:hover {
  border-color: #3b82f6;
  box-shadow: 0 20px 40px rgba(59, 130, 246, 0.15);
}

.menu-card.news h3 {
  color: #2563eb;
}

/* íˆ¬ìì ë§¤ë§¤ ë™í–¥ ì¹´ë“œ */
.card-icon.investor-icon {
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(118, 75, 162, 0.15) 100%);
  color: #667eea;
}

.menu-card.investor {
  background: linear-gradient(135deg, rgba(243, 244, 255, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 2px solid rgba(102, 126, 234, 0.3);
}

.menu-card.investor:hover {
  border-color: #667eea;
  box-shadow: 0 20px 40px rgba(102, 126, 234, 0.15);
}

.menu-card.investor h3 {
  color: #5568d3;
}

/* ì—°ì† ë§¤ìˆ˜ ì¹´ë“œ */
.card-icon.consecutive-icon {
  background: linear-gradient(135deg, rgba(237, 137, 54, 0.15) 0%, rgba(221, 107, 32, 0.15) 100%);
  color: #ed8936;
}

.menu-card.consecutive {
  background: linear-gradient(135deg, rgba(255, 250, 240, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 2px solid rgba(237, 137, 54, 0.3);
}

.menu-card.consecutive:hover {
  border-color: #ed8936;
  box-shadow: 0 20px 40px rgba(237, 137, 54, 0.15);
}

.menu-card.consecutive h3 {
  color: #dd6b20;
}

/* ìˆ˜ê¸‰ ê¸‰ì¦ ì¹´ë“œ */
.card-icon.surge-icon {
  background: linear-gradient(135deg, rgba(229, 62, 62, 0.15) 0%, rgba(197, 48, 48, 0.15) 100%);
  color: #e53e3e;
}

.menu-card.surge {
  background: linear-gradient(135deg, rgba(254, 242, 242, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 2px solid rgba(229, 62, 62, 0.3);
}

.menu-card.surge:hover {
  border-color: #e53e3e;
  box-shadow: 0 20px 40px rgba(229, 62, 62, 0.15);
}

.menu-card.surge h3 {
  color: #c53030;
}

/* ì‹¤ì  ìŠ¤í¬ë¦¬ë„ˆ ì¹´ë“œ */
.card-icon.screener-icon {
  background: linear-gradient(135deg, rgba(74, 222, 128, 0.15) 0%, rgba(34, 197, 94, 0.15) 100%);
  color: #4ade80;
}

.menu-card.screener {
  background: linear-gradient(135deg, rgba(240, 253, 244, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 2px solid rgba(74, 222, 128, 0.3);
}

.menu-card.screener:hover {
  border-color: #4ade80;
  box-shadow: 0 20px 40px rgba(74, 222, 128, 0.15);
}

.menu-card.screener h3 {
  color: #16a34a;
}

/* ê³µë§¤ë„ ë¶„ì„ ì¹´ë“œ */
.card-icon.short-squeeze-icon {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.15) 0%, rgba(168, 85, 247, 0.15) 100%);
  color: #8b5cf6;
}

.menu-card.short-squeeze {
  background: linear-gradient(135deg, rgba(245, 243, 255, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 2px solid rgba(139, 92, 246, 0.3);
}

.menu-card.short-squeeze:hover {
  border-color: #8b5cf6;
  box-shadow: 0 20px 40px rgba(139, 92, 246, 0.15);
}

.menu-card.short-squeeze h3 {
  color: #7c3aed;
}

/* ê¸°ìˆ ì  ë¶„ì„ ì¹´ë“œ */
.card-icon.technical-icon {
  background: linear-gradient(135deg, rgba(6, 182, 212, 0.15) 0%, rgba(59, 130, 246, 0.15) 100%);
  color: #06b6d4;
}

.menu-card.technical {
  background: linear-gradient(135deg, rgba(236, 254, 255, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 2px solid rgba(6, 182, 212, 0.3);
}

.menu-card.technical:hover {
  border-color: #06b6d4;
  box-shadow: 0 20px 40px rgba(6, 182, 212, 0.15);
}

.menu-card.technical h3 {
  color: #0891b2;
}

/* ì‹œì¥ ì§€í‘œ ì¹´ë“œ */
.card-icon.market-timing-icon {
  background: linear-gradient(135deg, rgba(245, 158, 11, 0.15) 0%, rgba(217, 119, 6, 0.15) 100%);
  color: #f59e0b;
}

.menu-card.market-timing {
  background: linear-gradient(135deg, rgba(255, 251, 235, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 2px solid rgba(245, 158, 11, 0.3);
}

.menu-card.market-timing:hover {
  border-color: #f59e0b;
  box-shadow: 0 20px 40px rgba(245, 158, 11, 0.15);
}

.menu-card.market-timing h3 {
  color: #d97706;
}

/* AI ë±ƒì§€ (ë©”ë‰´ ì¹´ë“œìš©) */
.menu-ai-badge {
  display: inline-block;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 2px 8px;
  border-radius: 8px;
  font-size: 10px;
  font-weight: 700;
  margin-left: 6px;
  vertical-align: middle;
}

/* í…ìŠ¤íŠ¸ ìƒ‰ìƒ ìœ í‹¸ë¦¬í‹° */
.text-positive {
  color: #ef4444;
}

.text-negative {
  color: #3b82f6;
}

.menu-card h3 {
  font-size: 20px;
  color: var(--text-primary);
  margin: 0 0 10px 0;
  font-weight: 600;
}

.menu-card p {
  font-size: 14px;
  color: var(--text-muted);
  margin: 0;
  line-height: 1.5;
}

.card-arrow {
  position: absolute;
  right: 24px;
  top: 50%;
  transform: translateX(10px) translateY(-50%);
  opacity: 0;
  transition: all 0.3s ease;
  color: var(--primary-start);
}

/* AI ìƒë‹´ ë°°ë„ˆ */
.ai-banner {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 20px;
  padding: 32px 40px;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  box-shadow: 0 10px 40px rgba(102, 126, 234, 0.3);
}

.ai-banner:hover {
  transform: translateY(-4px);
  box-shadow: 0 20px 50px rgba(102, 126, 234, 0.4);
}

.ai-banner:hover .ai-arrow svg {
  transform: translateX(4px);
}

.ai-banner-content {
  display: flex;
  align-items: center;
  gap: 24px;
  position: relative;
  z-index: 1;
}

.ai-icon {
  width: 80px;
  height: 80px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  flex-shrink: 0;
}

.ai-text {
  flex: 1;
}

.ai-text h3 {
  font-size: 24px;
  color: white;
  margin: 0 0 8px 0;
  font-weight: 700;
}

.ai-text p {
  font-size: 15px;
  color: rgba(255, 255, 255, 0.85);
  margin: 0;
}

.ai-arrow {
  display: flex;
  align-items: center;
  gap: 8px;
  background: rgba(255, 255, 255, 0.2);
  padding: 12px 20px;
  border-radius: 12px;
  color: white;
  font-weight: 600;
  font-size: 15px;
  transition: all 0.3s ease;
}

.ai-arrow:hover {
  background: rgba(255, 255, 255, 0.3);
}

.ai-arrow svg {
  transition: transform 0.3s ease;
}

.ai-decoration {
  position: absolute;
  right: -100px;
  top: -100px;
  width: 300px;
  height: 300px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 50%;
}

.ai-decoration::after {
  content: '';
  position: absolute;
  right: 150px;
  bottom: -50px;
  width: 200px;
  height: 200px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 50%;
}

/* ë°˜ì‘í˜• */
@media (max-width: 768px) {
  .welcome-card {
    padding: var(--card-padding);
  }

  .welcome-content h2 {
    font-size: 22px;
  }

  .welcome-decoration {
    display: none;
  }

  .menu-grid {
    grid-template-columns: 1fr;
  }

  .ai-banner {
    padding: 24px;
  }

  .ai-banner-content {
    flex-direction: column;
    text-align: center;
    gap: 16px;
  }

  .ai-icon {
    width: 64px;
    height: 64px;
  }

  .ai-icon svg {
    width: 36px;
    height: 36px;
  }

  .ai-text h3 {
    font-size: 20px;
  }

  .ai-text p {
    font-size: 14px;
  }

  .ai-arrow {
    width: 100%;
    justify-content: center;
  }

  .ai-decoration {
    display: none;
  }

  .news-section {
    padding: 20px;
  }

  .news-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }

  .news-item {
    padding: 14px 16px;
  }

  .news-content h4 {
    font-size: 14px;
  }

  .news-content p {
    font-size: 12px;
    -webkit-line-clamp: 3;
  }
}

/* ìœ„ì ¯ ì„¤ì • ë²„íŠ¼ */
.btn-widget-settings {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border: none;
  border-radius: 12px;
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  color: var(--text-secondary);
  cursor: pointer;
  transition: all 0.3s ease;
}

.btn-widget-settings:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  color: var(--primary-start);
}
</style>
